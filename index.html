<!doctype html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <link rel="icon" type="image/svg+xml" href="/vite.svg" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Vite + TS</title>
</head>

<body>
  <div class="three" id="app"></div>
  <div class="logo">
    <img src="public/logo.png">
  </div>
  <img src="nuevo.png" alt="Micrófono" id="new">
  <section class="column" id="slider-background">

    <div class="sliderBody" id="sliderBody">
      <div class="sliderTrack" id="sliderTrack">
        <div class="sliderCiruclo" id="sliderCiruclo">
          <img src="/public/flecha.webp" alt="" class="sliderCirculoImagen">
        </div>
      </div>
      <h1 class="sliderTexto">Quiero hablar contigo</h1>
      <img src="/public/flechas.webp" alt="" class="sliderImagen" />
    </div>
  </section>
<img src="micro.png" alt="Micrófono" id="micOverlay">
  <section class="transcription" id="Transcripcion">
    <!-- <div class="microfono">
      <img src="/public/Microfono.png" alt="">
    </div> -->
    <!-- <div class="Text Transcrito" id="transcript"> -->
      <!-- <button id="senBtn"></button> -->
    <!-- </div> -->
     <div class="cajaT">
  <div class="Text Respuesta" id="messageLabel"></div>
  <div class="botones">
    <img src="micro.png"   id="micIcon"    alt="Micrófono">

    <!-- WRAPPER que contendrá el ícono y el menú -->
    <div class="expandWrapper">
      <img src="expandir.png" id="expandIcon" alt="Expandir">
      <div class="expandMenu" id="expandMenu">
        <img src="enviar.png" id="sendBtn"  alt="Enviar">
        <img src="borrar.png" id="clearBtn" alt="Borrar">
      </div>
    </div>

  </div>
</div>
  </section>

  <div id="tutorialOverlay">
  <div id="tutorialText"></div>
  <div id="tutorialIcons">
  </div>
  <button id="tutorialNext"></button>
</div>

  <script>
  let btn;
  let btn2;

  document.addEventListener('DOMContentLoaded', () => {
    const expandIcon = document.getElementById('expandIcon');
    const expandMenu = document.getElementById('expandMenu');
    let menuOpen = false;

    expandIcon.addEventListener('click', () => {
      expandIcon.style.opacity = '0';
      setTimeout(() => {
        expandIcon.src = menuOpen ? 'expandir.png' : 'cerrar.png';
        menuOpen = !menuOpen;
        expandMenu.classList.toggle('open', menuOpen);
        expandIcon.style.opacity = '1';
      }, 400);
    });

    // Aquí agregamos el listener directamente al botón clearBtn
    const clearBtn = document.getElementById('clearBtn');
    if (clearBtn) {
      clearBtn.addEventListener('click', borrarTextArea);
    }

    const newEl = document.getElementById('new');
      if (newEl) {
        newEl.addEventListener('click', () => {
          window.location.reload();
        });
      }

  });

  function borrarTextArea() {
    const transcript = document.getElementById('transcript');
    const messageLabel = document.getElementById('messageLabel');
    
    if (transcript) transcript.value = '';
    if (messageLabel) messageLabel.innerHTML = '';
  }
</script>

  <script type="module" src="/src/main.js"></script>
  <script type="module" src="/src/peticiones_False-Stream.ts"></script>
  <!-- <script type="module" src="/src/peticiones_True-Stream.ts"></script> -->
  <script src="/src/recorder.js"></script>
  <script type="module" src="/src/SliderDrag.js"></script>
</body>

</html>